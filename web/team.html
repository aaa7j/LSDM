<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Team</title>
    <link rel="stylesheet" href="/static/app.css" />
  </head>
  <body>
    <div class="topbar"><div class="inner"><a class="brand" href="/" onclick="if (location.protocol==='file:'){location.href='index.html'; return false;}">NBA Search</a><div class="nav"><a href="/">Search</a><a href="/predict-ui">Predict</a></div></div></div>
    <div class="wrap"><div id="content" class="card">Loading...</div></div>
    <script src="/static/app.js"></script>
    <script>
      function getId(){ const m=location.pathname.match(/\/team\/(.+)$/); if(m) return decodeURIComponent(m[1]); const u=new URL(location.href); return u.searchParams.get('id');}
      async function load(){ const id=getId(); const el=document.getElementById('content'); if(!id){ el.textContent='Missing team id'; return; }
        try{ const res=await fetch(`/entity/team/${encodeURIComponent(id)}`); if(!res.ok) throw new Error('HTTP '+res.status); const d=await res.json(); if(d.error){ el.textContent=d.error; return; }
          const box=document.createElement('div'); box.style.display='grid'; box.style.gap='6px';
          const title=document.createElement('div'); title.className='title'; title.textContent=d.name||d.id;
          const sub=document.createElement('div'); sub.className='sub'; sub.textContent=`${d.city||''} ${d.conference? '· '+d.conference:''} ${d.division? '· '+d.division:''}`.trim();
          box.appendChild(title); if(sub.textContent) box.appendChild(sub);
          const extra=document.createElement('div'); extra.className='extra'; extra.textContent=`Arena: ${d.arena||'-'}  |  State: ${d.state||'-'}`; box.appendChild(extra);
          el.innerHTML=''; el.appendChild(box);
        } catch(e){ el.textContent='Error: '+(e.message||e); }
      }
      load();
    </script>
  </body>
</html>


